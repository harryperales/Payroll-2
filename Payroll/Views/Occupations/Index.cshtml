@model IEnumerable<Payroll.Models.Occupation>

@{
    var currentPage = ViewData["CurrentPage"] as int? ?? 1;
    var hasMore = ViewData["HasMore"] as bool? ?? false;
    var filter = ViewData["CurrentFilter"] as string ?? string.Empty;
    ViewData["Title"] = Resource.OccupationsTitle;
}

<h2>@Resource.OccupationsTitle</h2>

<p>
    <a asp-action="Create">@Resource.NewOccupation</a>
</p>
<form>
    <div class="form-group row">
        <div class="col-md-9">
            <input asp-for="@(filter)" class="form-control" />
        </div>
        <div class="col-md-1">
            <input asp-route-filter="@(filter)" type="submit" value="@Resource.Search" class="btn" style="color:white; background:black" />
        </div>
        <div class="col-md-2">
            <a asp-action="Index" asp-route-filter="">@Resource.ClearFilter</a>
        </div>
    </div>
</form>
<table  class="table table-bordered table-hover">
    <thead class="blackWhite">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IsRegulated)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CouncilName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CreationUser)
            </th>           
            <th style="text-align:center" class="col-md-2" colspan="3">@Resource.Action</th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model)
{
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @(item.IsRegulated ? Resource.Yes : Resource.No)
            </td>
            <td>
                @(item.IsRegulated ? item.CouncilName : Resource.NA)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CreationUser)
            </td>
            <td align="center" style="border-right:none">
                <a asp-action="Details" asp-route-id="@item.Id"><img alt="@Resource.Details" src="~/images/baseline-visibility-24px.svg"></a>
            </td>
            <td align="center" style="border-right:none;border-left:none">
                <a asp-action="Edit" asp-route-id="@item.Id"><img alt="@Resource.Edit" src="~/images/baseline-edit-24px.svg"></a>
            </td>
            <td align="center" style="border-left:none">
                <a asp-action="Delete" asp-route-id="@item.Id"><img alt="@Resource.Delete" src="~/images/baseline-delete-24px.svg"></a>
            </td>
        </tr>
}
    </tbody>
</table>
<div align="center">
    <nav aria-label="Page navigation example">
        <ul class="pagination">
            <li class="page-item">
                <a asp-action="Index"
                   asp-route-page="@(currentPage > 1 ? currentPage-1 : 1)"
                   asp-route-filter="@(filter)"
                   style="color:black" class="page-link">@Resource.Previous</a>
            </li>
            <li class="page-item">
                <a asp-action="Index"
                   asp-route-page="@(hasMore ? currentPage+1 : currentPage)"
                   asp-route-filter="@(filter)"
                   style="color:black" class="page-link">@Resource.Next</a>
            </li>
        </ul>
    </nav>
</div>
